# 5월 23일, 24일

### 1 : 7-511-C 84개

- 0 : 3
- 1,2,3,4 : 0 → human, easy, survive, easoer
- 5 : 1 → town
- 6~199 : 2
- text : It's easier for human's to survive in
- question node : "qc": ["easier", "easy", "human", "survive"]
- answer node : "ac": ["town"]
- [{"text": "a cave", "label": "A"}, {"text": "the ocean.", "label": "B"}, {"text": "a town", "label": "C"}, {"text": "alone", "label": "D"}]}, "answerKey": "C", "statements": [{"label": false, "statement": "It's easier for human's to survive in: a cave"}, {"label": false, "statement": "It's easier for human's to survive in: the ocean."}, {"label": true, "statement": "It's easier for human's to survive in: a town"}, {"label": false, "statement": "It's easier for human's to survive in: alone"}]}

edge_index파악하기 torch.Size([2, 124]) A : [0:124]
edge_index파악하기 torch.Size([2, 194]) B : [124:318]
edge_index파악하기 torch.Size([2, 496]) C : [318:814]
edge_index파악하기 torch.Size([2, 106]) D : [814:920]

---

### 32 : 1823-C 10개

- 0 : 3
- 1~4 : 0
- 5,6 : 1
- 7~ : 2
- text : Cellular respiration's trash is
- question node : "qc": ["cellular", "cellular_respiration", "respiration", "trash"],
- answer node : "ac": ["plant", "treasure"]

```
0,19 : context to question
1,20 : context to answer
2,21 : antonym
3,22 : atlocation
4,23 : capableof
5,24 : causes
6,25 : createdby
7,26 : isa
8,27 : desires
9,28 : hassubevent
10,29 : partof
11,30 : hascontext
12,31 : hasproperty
13,32 : madeof
14,33 : notcapableof
15,34 : notdesires
16,35 : receivesaction
17,36 : relatedto
18,37 : usedfor
```

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%2023%E1%84%8B%E1%85%B5%E1%86%AF,%2024%E1%84%8B%E1%85%B5%E1%86%AF%20d24588ad53954786917f30a16b6a8dcc/Untitled.png)

검사해 볼 edge triple 및 node triple

edge_triple : node_triple

(36, 7, 26) : (5, 13, 19)

(36, 7, 3) : (24, 5, 19)

(36, 37, 36) : (5, 14, 16)

(36, 7, 26) : (5, 13, 19)

(36, 22, 26) : (5, 24, 19)

(22, 17, 36) : (23, 26, 5)

(36, 36, 3) : (23, 5, 26)

(24, 36, 36) : (2, 22, 13)

### 1. (36, 7, 26) : (5, 13, 19)

5 : plant, 13 : cell, 19 : book

출발 노드 → 도착노드 (edge type) : 1-layer attention 4개 head 평균 : 5-layer attention 4개 head 평균

5 → 13(36) : 0.09 : 0.1425 plant is related to cell

13 → 19(7) : 0.29785 : 0.35 cell is a book

19 → 5(26) : 0.1525 : 0.205.  book is a plant

### 2. (36, 7, 3) : (24, 5, 19)

24 → 5(36) : 0.025 : 0.0725 bed is related to plant

5 → 19(7) : 0.135 : 0.185 plant is a book

19 → 24(3) : 0.3775 : 0.2875 book is at loacation bed

### 3. (36, 37, 36) : (5, 14, 16)

5 → 14(36) : 0.0625 : 0.1725 plant is related to energy

14 → 16(37) : 0.0525 : 0.10 energy is used for food

16 → 5(36) : 0.1025 : 0.2 food is related to plant

### 4. (36, 7, 26) : (5, 13, 19)

5- > 13(36) : 0.09 : 0.1675 plant is related to cell

13 → 19(7) : 0.2975 : 0.35 cell is a book

19 → 5(26) : 0.1525 : 0.205 book is a plant

---

**answer node(6) treasure은 사이클을 형성하지 않아서 여기에는 없지만 book(19)와 “is a” 라는 edge_type으로 연결되어 있다.**

20:6-0

7:6-19

7:21-6 : find_underwater → treasure → cycle encoder가 높았음

21 : 6 - 17 : treasure → waste (antonym) → cycle encoder가 높았음

---

### 5. (36, 22, 26) : (5, 24, 19)

5 → 24(36) : 0.025 : 0.04 plant is related to bed(bed is related to plant) → 비교적 낮은 값

24 → 19(22) : 0.0575 : 0.0925 bed is location at book(book is loacation at bed) → 비교적 낮은 값

19 → 5(26) : 0.1525 : 0.205 book is a plant(plant is a book)

이 문제를 통해 알 수 있는 것은 “사람, 동물, 식물의 세포는 책과 같이 많은 정보를 담고 있다”라는 정보와 Cellular(3)노드와 연결된 10,11번 노드의  attention 이 높다는 것을 알 수 있다. → QA-GNN과 다르게

---

그렇다면 Cycle encoder가 아니라 QA-GNN에서는 어떻게 나오는지 확인해보자

### QA-GNN

### 1. (36, 7, 26) : (5, 13, 19)

5 : plant, 13 : cell, 19 : book

출발 노드 → 도착노드 (edge type) : 1-layer attention 4개 head 평균 : 5-layer attention 4개 head 평균

5 → 13(36) : 0.255 : 0.19 plant is related to cell

13 → 19(7) : 0.345 : 0.335 cell is a book

19 → 5(26) : 0.37 : 0.195  book is a plant

### 2. (36, 7, 3) : (24, 5, 19)

24 → 5(36) : 0.0975:0.08  bed is related to plant

5 → 19(7) : 0.285 : 0.1775 plant is a book

19 → 24(3) : 0.2125 : 0.2  book is at loacation bed

여기까지 봤지만 QA-GNN은 세포와 book의 관계에 큰 attention 을 주지 않는다.

### 3. (36, 37, 36) : (5, 14, 16)

5 → 14(36) : 0.195:0.1625  plant is related to energy

14 → 16(37) : 0.0825:0.09  energy is used for food

16 → 5(36) 0.2125:0.2  food is related to plant

### 4. (36, 7, 26) : (5, 13, 19)

5- > 13(36) :  0.255 : 0.19 plant is related to cell

13 → 19(7) :  0.345 : 0.335 cell is a book

19 → 5(26) :  0.185 : 0.195 book is a plant

### 5. (36, 22, 26) : (5, 24, 19)

5 → 24(36) :  0.06 : 0.04 plant is related to bed(bed is related to plant) → 비교적 낮은 값

24 → 19(22) 0.0625: 0.09 bed is location at book(book is loacation at bed) → 비교적 낮은 값

19 → 5(26) :  0.185 : 0.195 book is a plant(plant is a book)

---

### Results

이 문제를 통해 알 수 있는 것은 “사람, 동물, 식물의 세포는 책과 같이 많은 정보를 담고 있다”라는 정보와 Cellular(3)노드와 연결된 10,11번 노드의  attention 이 높다는 것을 알 수 있다. → QA-GNN과 다르게

QA-GNN읜 13(cell) → 19(book)의 attention weight 이 layer을 거칠수록 오히려 감소한다.

정답 노드 Treasure(6)과 연결된 에지는 4가지 이다. 반대방향 합치면 8가지

20:6-0 : treasure → context node

7:6-19

7:21-6 : find_underwater → treasure → cycle encoder가 높았음

21 : 6 - 17 : treasure → waste (antonym) → cycle encoder가 높았음

7:6-19, 26:19-6 (is a)는 똑같았고 나머지 6가지는 cycle encoder가 높았음

즉, 정답 노드로 향하는 attention weight가 높았다는 뜻임

내일 분석할 문제

25 : 9-32-B 27개

- 0 : 3
- 1~ 4: 0 → winter, december, winter_solstice, solstice
- 5,6 : 1 → north, equator
- 7~ : 2
- text : The winter solstice is on December 21st in the
- question node : "qc": ["december", "solstice", "winter", "winter_solstice"]
- answer node : "ac": ["equator", "north"]