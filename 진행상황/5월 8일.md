# 5월 8일

75번 문제의 edge 분석 ㄱㄱ

### 12 : 75-A 35개

- 0 : 3
- 1~6 : 0 → relationship, kind, object, friction, speed, amount
- 7 : 1 → inverse
- 8~ : 2
- text : The amount of friction and the speed of an object have what kind of relationship?
- question node : "qc": ["amount", "friction", "kind", "object", "relationship", "speed"],
- answer node : "ac": ["inverse"]
- [{"text": "inverse", "label": "A"}, {"text": "reverse", "label": "B"}, {"text": "direct", "label": "C"}, {"text": "equal", "label": "D"}]}, "answerKey": "A", "statements": [{"label": true, "statement": "The amount of friction and the speed of an object have what kind of relationship? inverse"}, {"label": false, "statement": "The amount of friction and the speed of an object have what kind of relationship? reverse"}, {"label": false, "statement": "The amount of friction and the speed of an object have what kind of relationship? direct"}, {"label": false, "statement": "The amount of friction and the speed of an object have what kind of relationship? equal"}]

```
edge_index : tensor([[38, 39,  1,  5,  5,  8, 11, 17, 21, 21, 28, 29, 31, 11, 34,  1,  1,  1,
          2,  2,  4,  4,  4,  4,  4,  5,  6,  6,  6,  6,  7,  7,  7,  7,  7,  7,
          7,  7,  7,  7,  8,  9,  9,  9, 10, 10, 10, 10, 10, 10, 11, 11, 11, 11,
         12, 12, 12, 12, 13, 14, 15, 15, 15, 16, 16, 17, 17, 17, 18, 18, 19, 19,
         19, 19, 19, 19, 19, 19, 20, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22,
         22, 23, 24, 24, 24, 25, 25, 25, 25, 25, 25, 26, 26, 26, 27, 28, 28, 28,
         28, 29, 29, 29, 29, 30, 30, 30, 31, 31, 31, 31, 33, 33, 34, 34, 35, 35,
         36, 36, 37, 37, 38, 38, 39, 39, 39, 40, 40, 40, 41, 41, 41, 42, 42, 43,
          0,  0,  0,  0,  0,  0,  0, 34,  4, 15, 19, 29,  1,  6,  2, 10, 14,  9,
         15, 15, 10, 15,  9, 26, 31, 28, 35,  9, 20, 23, 27, 29, 33, 11, 14, 25,
         32,  8, 11, 13, 14, 15, 17, 20, 32, 33, 43, 20,  1, 28, 40,  5,  6,  8,
         14, 20, 21,  6, 12, 18, 20,  6,  7, 11, 14,  6, 39, 12, 31, 32,  5,  6,
         14, 20, 32,  2,  7,  5,  6,  8, 10, 11, 20, 25, 26, 10,  1,  2, 10, 14,
         19, 33,  5,  6, 12, 29, 31, 39,  1,  1,  7, 19,  2,  6, 11, 12, 19, 20,
          6, 11, 31,  2,  1,  2,  9, 35,  5, 15, 20, 32,  5,  6,  8,  6, 11, 12,
         20,  6, 20,  2,  6,  5, 43,  1,  2,  5,  6,  1,  2,  4,  5, 29,  1,  2,
          9,  2,  6, 32,  4,  5,  4,  1,  2,  3,  4,  5,  6,  7],
        [34,  4, 15, 19, 29,  1,  6,  2, 10, 14,  9, 15, 15, 10, 15,  9, 26, 31,
         28, 35,  9, 20, 23, 27, 29, 33, 11, 14, 25, 32,  8, 11, 13, 14, 15, 17,
         20, 32, 33, 43, 20,  1, 28, 40,  5,  6,  8, 14, 20, 21,  6, 12, 18, 20,
          6,  7, 11, 14,  6, 39, 12, 31, 32,  5,  6, 14, 20, 32,  2,  7,  5,  6,
          8, 10, 11, 20, 25, 26, 10,  1,  2, 10, 14, 19, 33,  5,  6, 12, 29, 31,
         39,  1,  1,  7, 19,  2,  6, 11, 12, 19, 20,  6, 11, 31,  2,  1,  2,  9,
         35,  5, 15, 20, 32,  5,  6,  8,  6, 11, 12, 20,  6, 20,  2,  6,  5, 43,
          1,  2,  5,  6,  1,  2,  4,  5, 29,  1,  2,  9,  2,  6, 32,  4,  5,  4,
          1,  2,  3,  4,  5,  6,  7, 38, 39,  1,  5,  5,  8, 11, 17, 21, 21, 28,
         29, 31, 11, 34,  1,  1,  1,  2,  2,  4,  4,  4,  4,  4,  5,  6,  6,  6,
          6,  7,  7,  7,  7,  7,  7,  7,  7,  7,  7,  8,  9,  9,  9, 10, 10, 10,
         10, 10, 10, 11, 11, 11, 11, 12, 12, 12, 12, 13, 14, 15, 15, 15, 16, 16,
         17, 17, 17, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 20, 21, 21, 21, 21,
         21, 21, 22, 22, 22, 22, 22, 22, 23, 24, 24, 24, 25, 25, 25, 25, 25, 25,
         26, 26, 26, 27, 28, 28, 28, 28, 29, 29, 29, 29, 30, 30, 30, 31, 31, 31,
         31, 33, 33, 34, 34, 35, 35, 36, 36, 37, 37, 38, 38, 39, 39, 39, 40, 40,
         40, 41, 41, 41, 42, 42, 43,  0,  0,  0,  0,  0,  0,  0]])
```

```
edge_type = tensor([ 2,  2,  7,  7,  7,  7,  7,  7,  7,  7,  7,  7,  7,  9,  9, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
         0,  0,  0,  0,  0,  0,  1, 21, 21, 26, 26, 26, 26, 26, 26, 26, 26, 26,
        26, 26, 28, 28, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36,
        36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36,
        36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36,
        36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36,
        36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36,
        36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36,
        36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36,
        36, 36, 36, 36, 36, 36, 36, 19, 19, 19, 19, 19, 19, 20])
```

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%208%E1%84%8B%E1%85%B5%E1%86%AF%20342e67d3b4084039a4ea78c4cd3b82a8/Untitled.png)

- 알아야 할 other node
    
    8,9,10,11,12,14,15,17,18,19,20,21,22,25,26,28,29,31,32,33,34,35,38,39,40,41,
    
    - 8 : function
    - 9 : relative
    - 10 : limit
    - 11 : number
    - 12 : unit
    - 14 : set
    - 15 : state
    - 17 : color
    - 18 : singular
    - 19 : rate
    - 20 : term
    - 21 : range
    - 22 : drop
    - 25 : cost
    - 26 : level
    - 28 : kin
    - 29 : motion
    - 31 : degree
    - 32 : any
    - 33 : distance
    - 34 : give
    - 35 : race
    - 38 : adopt
    - 39 : slip
    - 40 : mother
    - 41 : stale

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%208%E1%84%8B%E1%85%B5%E1%86%AF%20342e67d3b4084039a4ea78c4cd3b82a8/Untitled%201.png)

그런데 이 문제는 이 문제에서 중요한 friction은 길이3의 사이클을 형성하고 있지 않다. 물론 아예 isolated node는 아니다. 하지만 정확한 분석을 하기위해 적합한 문제는 아니다.  다른 문제로 넘어가자

---

### 25 : 9-32-B 27개

- 0 : 3
- 1~ 4: 0 → winter, december, winter_solstice, solstice
- 5,6 : 1 → north, equator
- 7~ : 2
- text : The winter solstice is on December 21st in the
- question node : "qc": ["december", "solstice", "winter", "winter_solstice"]
- answer node : "ac": ["equator", "north"]

```
concept_ids tensor([     0,   6763,  28533,  71297, 286980,  11762, 122066,   3223, 363048,
        145388, 135932, 395971, 113014,  10901, 207971,  70965,  28532, 207975,
          1677,   1361, 207974,  13395,   3531, 401236,   2020, 119238,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1,      1,      1,      1,      1,      1,      1,      1,
             1,      1])
```

```
edge_index파악하기 tensor([[ 1, 15, 19, 16, 16, 21,  3,  3,  5,  9,  9, 12, 12, 15, 15, 19,  3,  7,
         13, 16,  1,  1,  1,  1,  1,  1,  1,  1,  1,  3,  3,  3,  3,  5,  6,  7,
          7,  7,  7,  8,  8,  8,  9,  9,  9, 11, 11, 11, 12, 12, 12, 13, 13, 13,
         14, 14, 14, 14, 15, 15, 15, 16, 17, 17, 17, 17, 18, 18, 18, 19, 19, 19,
         20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 22, 22, 22, 23, 23, 24, 24, 25,
         25, 25, 21,  0,  0,  0,  0,  0,  0, 19,  3,  1,  1,  2,  5,  4, 12, 25,
          4, 15,  3,  4,  4,  9, 18,  1,  2,  1, 21, 22,  2,  5,  7, 10, 18, 19,
         21, 22,  4,  9, 12, 15, 22, 10,  1,  2,  8, 21,  2,  3,  7,  3, 12, 15,
          3,  6, 15,  3,  9, 15,  1,  2,  3,  5,  6, 17, 20,  3,  9, 12, 21,  1,
          4,  6, 20,  1,  2, 19,  1,  4, 18,  4,  5,  6, 17,  1,  2,  5,  7, 19,
         22,  1,  5, 21,  4,  6,  1,  5,  1,  5, 24,  7,  1,  2,  3,  4,  5,  6],
        [19,  3,  1,  1,  2,  5,  4, 12, 25,  4, 15,  3,  4,  4,  9, 18,  1,  2,
          1, 21, 22,  2,  5,  7, 10, 18, 19, 21, 22,  4,  9, 12, 15, 22, 10,  1,
          2,  8, 21,  2,  3,  7,  3, 12, 15,  3,  6, 15,  3,  9, 15,  1,  2,  3,
          5,  6, 17, 20,  3,  9, 12, 21,  1,  4,  6, 20,  1,  2, 19,  1,  4, 18,
          4,  5,  6, 17,  1,  2,  5,  7, 19, 22,  1,  5, 21,  4,  6,  1,  5,  1,
          5, 24,  7,  1,  2,  3,  4,  5,  6,  1, 15, 19, 16, 16, 21,  3,  3,  5,
          9,  9, 12, 12, 15, 15, 19,  3,  7, 13, 16,  1,  1,  1,  1,  1,  1,  1,
          1,  1,  3,  3,  3,  3,  5,  6,  7,  7,  7,  7,  8,  8,  8,  9,  9,  9,
         11, 11, 11, 12, 12, 12, 13, 13, 13, 14, 14, 14, 14, 15, 15, 15, 16, 17,
         17, 17, 17, 18, 18, 18, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 21,
         21, 22, 22, 22, 23, 23, 24, 24, 25, 25, 25, 21,  0,  0,  0,  0,  0,  0]])
```

```
edge_type파악하기 tensor([ 2,  2,  2,  3,  3,  3,  7,  7,  7,  7,  7,  7,  7,  7,  7,  7, 10, 10,
        10, 10, 12, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17,
        17, 17, 18,  0,  0,  0,  0,  1,  1, 21, 21, 21, 22, 22, 22, 26, 26, 26,
        26, 26, 26, 26, 26, 26, 26, 29, 29, 29, 29, 31, 36, 36, 36, 36, 36, 36,
        36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36,
        36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36,
        36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36,
        36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 36, 37, 19, 19, 19, 19, 20, 20])
```

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%208%E1%84%8B%E1%85%B5%E1%86%AF%20342e67d3b4084039a4ea78c4cd3b82a8/Untitled%202.png)

- other node index
    
    7,8,9,11,12,13,14,15,16,17,18,19,20,21,22,24,25
    
    - 7 : christmas
    - 8 : yule
    - 9 : june_solstice
    - 11 : arctic_circle
    - 12 : december_solstice
    - 13 : midwinter
    - 14 : tropic
    - 15 : summer_solstice
    - 16 : snowflake
    - 17 : tropic_of_capricorn
    - 18 : autumn
    - 19 : fall
    - 20 : tropic_of_cancer
    - 21 : snow
    - 22 : cold
    - 24 : bear
    - 25 : earthly_branch

이제 Attention weight을 출력해보자 

우선, edge_index를 알아야함

edge_index파악하기 torch.Size([2, 156]) 0:156
**edge_index파악하기 torch.Size([2, 198]) 157 : 355 → 정답 B 이므로 이게 필요함**
edge_index파악하기 torch.Size([2, 368]) 356 : 
edge_index파악하기 torch.Size([2, 238])

positive cycle, negative cycle을 정한 후 해당하는  attention weight을 출력하려고 했지만 전체적인 attention weight이 더 중요한 것같다.

![Untitled](5%E1%84%8B%E1%85%AF%E1%86%AF%208%E1%84%8B%E1%85%B5%E1%86%AF%20342e67d3b4084039a4ea78c4cd3b82a8/Untitled%203.png)

내일 할 일

이 문제 original qagnn attention weight 분석