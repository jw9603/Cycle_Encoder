# 9월 12일

내일 연구할 것

1. GSC 실험
2. model making
    - 논문 리딩이 필요할 듯…?
        - QA-GNN의 GAT는 사이클에 적합하지 않음 → GAT는 두 노드간의 message, cycle은 세 개의 노드
    - 어떤거를 봐야해?

오늘은 LG전자 직원분과 상담신청을 해서 많이 하지를 못했다. 또한 똗떠똗ㄷ 서버 네트워크 오류가 나와서 tmux로 돌려놓았던 모델들이 학습이 중단되어있었다.

그래서 현재 시간 21시.. 지금 진행해야 할 것은 위 2번 model making이다. 이것을 진행하기 위해 내가 무엇을 해야했었지를 생각해본다. 

일단 QA-GNN와 GSC를 동시에 돌리기 위해선 A100이 절대적으로 필요한 상황!!

그래서 A6000에는 GSC + Upgrade cycle count, A100에는 QA-GNN + New model을 사용하고자 한다.

A100 사용을 위해 신청한 사항

- [x]  VPN 신청서
- [x]  A100 1대 추가 신청서

위 두가지 사항을 오늘 밤에 신청했고 대기 중…

자.. 그렇다면 이제는 뭐냐 

앞서 말한 GSC에 upgrade cycle count를 적용한다고 했는데 생각해보자.

GSC가 뭐의 약자야? → Graph soft counter

counter!! 노드와 에지의 차원이 1이고 출발노드와 에지의 임베딩값을 더해서 도착노드로 전파하는 것. 임베딩이 1차원이므로 count를 한다고 보는 것!!

여기에 Cycle count를 추가하는 것은 노드에 사이클 정보를 심어주는 것인데

기존에 했던 방식은 단순히 개수값을 concat해서 MLP를 돌렸다.

에지를 임베딩하는 과정에서는 전혀 사용되지 않았다.

그래서 이번에는 에지와 노드 임베딩에 “사이클 카운트 타입” 임베딩을 추가했다. 노드에는 추가적으로 기존의 사이클 카운트 타입과 “reranking을 통해 선별된 업그레이드 사이클 카운트 타입 임베딩”을 추가했다.

그리고 

GSC(노드 개수 32개)

Cycle passage 평균 개수 : 10.43개

cycle passage 최대 개수 : 676개

cycle passage 최소 개수 : 0개

DPR을 FAISS를 통해 다시 해보자

그리고 

[QAcontext ;Reranked Top-N cp] 를 PLM에 넣어보자

넣은 결과 + graph_score를 진행해본다.